import{n as M,af as h,k as y,ag as U,m as x,j as g,A as b,ah as I,R as P,T as z}from"./index.55ec1fa1.js";function F(e,u,t){let r;function l(){r!==void 0&&(h.remove(r),r=void 0)}return M(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){r={condition:()=>t.value===!0,handler:u},h.add(r)}}}const $={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},j=["beforeShow","show","beforeHide","hide"];function k({showing:e,canShow:u,hideOnRouteChange:t,handleShow:r,handleHide:l,processOnMount:H}){const d=g(),{props:n,emit:a,proxy:c}=d;let i;function S(o){e.value===!0?f(o):m(o)}function m(o){if(n.disable===!0||(o==null?void 0:o.qAnchorHandled)===!0||u!==void 0&&u(o)!==!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(a("update:modelValue",!0),i=o,b(()=>{i===o&&(i=void 0)})),(n.modelValue===null||s===!1)&&p(o)}function p(o){e.value!==!0&&(e.value=!0,a("beforeShow",o),r!==void 0?r(o):a("show",o))}function f(o){if(n.disable===!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(a("update:modelValue",!1),i=o,b(()=>{i===o&&(i=void 0)})),(n.modelValue===null||s===!1)&&v(o)}function v(o){e.value!==!1&&(e.value=!1,a("beforeHide",o),l!==void 0?l(o):a("hide",o))}function T(o){n.disable===!0&&o===!0?n["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):o===!0!==e.value&&(o===!0?p:v)(i)}y(()=>n.modelValue,T),t!==void 0&&U(d)===!0&&y(()=>c.$route.fullPath,()=>{t.value===!0&&e.value===!0&&f()}),H===!0&&x(()=>{T(n.modelValue)});const V={show:m,hide:f,toggle:S};return Object.assign(c,V),V}function D(){let e;return{preventBodyScroll(u){u!==e&&(e!==void 0||u===!0)&&(e=u,I(u))}}}function E(){let e=null;const u=g();function t(){e!==null&&(clearTimeout(e),e=null)}return P(t),M(t),{removeTimeout:t,registerTimeout(r,l){t(),z(u)===!1&&(e=setTimeout(()=>{e=null,r()},l))}}}const B=["B","KB","MB","GB","TB","PB"];function q(e,u=1){let t=0;for(;parseInt(e,10)>=1024&&t<B.length-1;)e/=1024,++t;return`${e.toFixed(u)}${B[t]}`}function w(e,u,t){return t<=u?u:Math.min(t,Math.max(u,e))}function C(e,u,t){if(t<=u)return u;const r=t-u+1;let l=u+(e-u)%r;return l<u&&(l=r+l),l===0?0:l}export{j as a,E as b,k as c,F as d,D as e,w as f,q as h,C as n,$ as u};
